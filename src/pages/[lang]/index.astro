---
// src/pages/[lang]/index.astro

import Layout from "@/layouts/Layout.astro";
import Hero from "@/components/layout/Hero.astro";
import Stats from "@/components/layout/Stats.astro";
import TrustedBy from "@/components/layout/TrustedBy.astro";
import Feature from "@/components/layout/Feature.astro";
import About from "@/components/layout/About.astro";
import { useTranslations } from "@/i18n/utils";
import WhyUs from "@/components/layout/WhyUs.astro";
import { languages } from "@/i18n/ui"; 

export async function getStaticPaths() {
  return Object.keys(languages).map((langKey) => {
    return {
      params: { lang: langKey },
    };
  });
}

const lang = Astro.params.lang as keyof typeof languages;
const t = useTranslations(lang);
---

<Layout title={t("site.title")}>
  <main>
    <Hero lang={lang} t={t} />
    <Stats lang={lang} t={t} />
    <TrustedBy lang={lang} t={t} />
    <Feature lang={lang} t={t} />
    <WhyUs lang={lang} t={t} />
    <About lang={lang} t={t} />
  </main>
</Layout>
